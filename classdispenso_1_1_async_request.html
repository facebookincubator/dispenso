<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dispenso: dispenso::AsyncRequest&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">dispenso
   </div>
   <div id="projectbrief">A library for task parallelism</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classdispenso_1_1_async_request.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdispenso_1_1_async_request-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dispenso::AsyncRequest&lt; T &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="async__request_8h_source.html">async_request.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae768a5f50a40302b5eb7d2ac6112eadc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdispenso_1_1_async_request.html#ae768a5f50a40302b5eb7d2ac6112eadc">OpResult</a> = detail::OpResult&lt; T &gt;</td></tr>
<tr class="separator:ae768a5f50a40302b5eb7d2ac6112eadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1f346ca044a0b7668785b2105627cf3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdispenso_1_1_async_request.html#a1f346ca044a0b7668785b2105627cf3a">requestUpdate</a> ()</td></tr>
<tr class="separator:a1f346ca044a0b7668785b2105627cf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730fe3b28a3dd39854f92534dab533f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdispenso_1_1_async_request.html#a730fe3b28a3dd39854f92534dab533f6">updateRequested</a> () const</td></tr>
<tr class="separator:a730fe3b28a3dd39854f92534dab533f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc2ef79cd8d2efd6cbab96b0ca8ef1d"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a4fc2ef79cd8d2efd6cbab96b0ca8ef1d"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdispenso_1_1_async_request.html#a4fc2ef79cd8d2efd6cbab96b0ca8ef1d">tryEmplaceUpdate</a> (Args &amp;&amp;... args)</td></tr>
<tr class="separator:a4fc2ef79cd8d2efd6cbab96b0ca8ef1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d3081993b6f3efdf4c378fae2323fb"><td class="memItemLeft" align="right" valign="top">OpResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdispenso_1_1_async_request.html#a99d3081993b6f3efdf4c378fae2323fb">getUpdate</a> ()</td></tr>
<tr class="separator:a99d3081993b6f3efdf4c378fae2323fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T&gt;<br />
class dispenso::AsyncRequest&lt; T &gt;</div><p >A type for making async requests. Although it is safe to use from multiple producers and consumers, it is primarily intended to be used from single producer, single consumer.</p>
<p >Typically the consumer will request an update of the value from thread 0, and the producer will look whether an update was requested from thread 1. Once the producer determines an update was requested (<a class="el" href="classdispenso_1_1_async_request.html#a730fe3b28a3dd39854f92534dab533f6">updateRequested()</a> returns true), it calls <a class="el" href="classdispenso_1_1_async_request.html#a4fc2ef79cd8d2efd6cbab96b0ca8ef1d">tryEmplaceUpdate()</a> to update the underlying data. Then when the consumer on thread 0 next calls <a class="el" href="classdispenso_1_1_async_request.html#a99d3081993b6f3efdf4c378fae2323fb">getUpdate()</a>, an optional wrapper to the updated data is returned, and the <a class="el" href="classdispenso_1_1_async_request.html">AsyncRequest</a> object is reset (it no longer has valid data, and no update will have yet been requested for the next update). </p>

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00038">38</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae768a5f50a40302b5eb7d2ac6112eadc" name="ae768a5f50a40302b5eb7d2ac6112eadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae768a5f50a40302b5eb7d2ac6112eadc">&#9670;&nbsp;</a></span>OpResult</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdispenso_1_1_async_request.html">dispenso::AsyncRequest</a>&lt; T &gt;::OpResult =  detail::OpResult&lt;T&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00044">44</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a99d3081993b6f3efdf4c378fae2323fb" name="a99d3081993b6f3efdf4c378fae2323fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d3081993b6f3efdf4c378fae2323fb">&#9670;&nbsp;</a></span>getUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OpResult <a class="el" href="classdispenso_1_1_async_request.html">dispenso::AsyncRequest</a>&lt; T &gt;::getUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The consumer can attempt to get an update. </p><dl class="section return"><dt>Returns</dt><dd>An optional wrapper to the underlying data. If no update is ready, nullopt is returned. Once an update has been returned, the <a class="el" href="classdispenso_1_1_async_request.html">AsyncRequest</a> object is returned to a state with no underlying data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00090">90</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>

</div>
</div>
<a id="a1f346ca044a0b7668785b2105627cf3a" name="a1f346ca044a0b7668785b2105627cf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f346ca044a0b7668785b2105627cf3a">&#9670;&nbsp;</a></span>requestUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdispenso_1_1_async_request.html">dispenso::AsyncRequest</a>&lt; T &gt;::requestUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The consumer can call this to request an update to the underlying data. If request has already been made or fulfilled, this is a no-op. </p>

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00051">51</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>

</div>
</div>
<a id="a4fc2ef79cd8d2efd6cbab96b0ca8ef1d" name="a4fc2ef79cd8d2efd6cbab96b0ca8ef1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc2ef79cd8d2efd6cbab96b0ca8ef1d">&#9670;&nbsp;</a></span>tryEmplaceUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdispenso_1_1_async_request.html">dispenso::AsyncRequest</a>&lt; T &gt;::tryEmplaceUpdate </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The producer can try to emplace a new T object in response to a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>The arguments to emplace. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the underlying data was updated. false if the underlying data is not in need of an update. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>For cases where calling this superflously could be expensive, it is wise to check <a class="el" href="classdispenso_1_1_async_request.html#a730fe3b28a3dd39854f92534dab533f6">updateRequested()</a> first. </dd></dl>

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00074">74</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>

</div>
</div>
<a id="a730fe3b28a3dd39854f92534dab533f6" name="a730fe3b28a3dd39854f92534dab533f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730fe3b28a3dd39854f92534dab533f6">&#9670;&nbsp;</a></span>updateRequested()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdispenso_1_1_async_request.html">dispenso::AsyncRequest</a>&lt; T &gt;::updateRequested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The producer can check this to determine if an update is needed.</p>
<dl class="section return"><dt>Returns</dt><dd>true if an update is required, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="async__request_8h_source.html#l00061">61</a> of file <a class="el" href="async__request_8h_source.html">async_request.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/dispenso/<a class="el" href="async__request_8h_source.html">async_request.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>dispenso</b></li><li class="navelem"><a class="el" href="classdispenso_1_1_async_request.html">AsyncRequest</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
